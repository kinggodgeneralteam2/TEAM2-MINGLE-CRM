# MINGLE CRM 

 <details>
 <summary>
    🌼프로젝트 기획서
  </summary>

# 프로젝트 개요

- 팀 명 : Team Mingle
- 프로젝트 명칭 : Mingle-CRM
    - Mingle : "Mingle"라는 팀 이름은 다양성과 연결을 상징할 수 있습니다. "Mingle"은 다양한 아이디어, 배경, 경험을 가진 사람들이 모여 상호작용하고 협력하여 새로운 아이디어를 창출하는 공간을 의미할 수 있습니다. 이 팀 이름은 사람들 간의 상호작용과 협업을 강조하며, 새로운 관점과 아이디어를 만들어내는 과정을 나타낼 수 있습니다. Mingle팀이 만들었단 의미에서 Mingle-CRM 으로 지었습니다!
- 프로젝트 기간 : 2024 5/8 ~ 7/3
- 팀원 : 강찬미, 권성지, 김동욱, 장명훈, 하지민
- 프로젝트 요약 : 호텔&리조트 기업이 효과적으로 고객 관리 및 마케팅 업무를 수행할 수 있도록 보조하는 고객 관리 시스템(CRM)입니다.

# 프로젝트 목표 및 타겟

- 프로젝트 배경
    - 이전 PM(Personal Mobility) 업체의 CX팀의 인턴으로 근무했던 팀원은 업무에 불편함을 느꼈습니다. 성수기 기준 주 평균 4,000개의 문의 중 유의미한 인사이트를 도출해내는 것은 상당한 시간이 필요했습니다. 기존의 CRM서비스는 불특정 다수의 기업에게 서비스하기 때문에 사용하는 기업에게 불필요한 결과들까지 보여지는 것이 문제였습니다.
        
        우리는 오직 호텔을 위해 더욱 세밀하고 정확한 통계를 도출하는 것을 하나의 목표로 정했습니다. 
        
        고객들의 요구사항이 다양해지고 세밀해짐에 따라 우리는 데이터를 통해 고객 경험과 니즈를 파악하여 실무자들이 적절한 마케팅을 수행할 수 있도록 돕고자 합니다.
        
- 프로젝트 목표
    - 프로젝트의 핵심 목표는 이용자(호텔 직원)들이 본인의 업무를 효율적/효과적으로 수행할 수 있도록 돕는 것입니다.
    - 따라서 이를 위해 단순히 고객 데이터 조회 뿐만 아니라 고객 별 개인화 마케팅을 돕기 위한 여러 통계 생성 및 시각화를 주요 목표로 합니다.

# 주요 기능

1.  **권한 관리**
    - 우선순위 : 상
    - **목적 :** 매니저는 직원들의 권한을 관리하고 직원들은 직책에 맞는 권한을 가지고 있어야 합니다.
2.  **고객 관리**
    - 우선순위 : 상
    - **목적 :** 매니저와 스태프는 고객 정보를 관리하고 관련 작업을 수행할 수 있어야 합니다.
3.  **예약 관리**
    - 우선순위 : 상
    - **목적 :** 매니저와 스태프는 예약 현황을 확인하고 관리할 수 있어야 합니다.
4.  **매출 관리**
    - 우선순위 : 중
    - **목적 :** 매니저는 매출과 수익에 관한 정보를 조회할 수 있어야 합니다.
5.  **마케팅 기능**
    - 우선순위 : 중
    - **목적 :** 마케터는 고객들에게 이벤트와 쿠폰 등에 관한 정보를 발송할 수 있어야 합니다.
6. **상담 기능**
    - 우선순위 : 중
    - **목적:** 상담원은 고객들과의 상담 내용을 기록하고 관리할 수 있어야 합니다.
7.  **통계 관리**
    - 우선순위 : 상
    - **목적:** 시스템은 주기적으로 통계 정보를 생성하고 관리해야 합니다.

# 사용 기술 스택

### Backend

- Java17
- JPA ( Hibernate )
- Spring 3.2.5
- Spring Security
- Redis
- MariaDB

### Frontend

- Vue3
- Pinia

### CI/CD

- Docker  & Docker Hub
- Git Actions, Jenkins, AWS
</details>

 <details>
 <summary>
    🌼요구사항 정의서
  </summary>
  
# 요구사항 정의서 / 명세서 ⇒ Entity 만들기

**📌 목적**

- 호텔 & 다이닝 고객 관리를 위한 서비스

**📌  권한 분류**

- Manager / Staff / Marketer / Consultant 구별 - 이 모두를 통틀어 직원이라 하겠음
- 권한 별로 수행할 수 있는 기능에 차이가 있습니다.
    - Manager : 모든 권한 일종의 어드민 계정과 유사합니다.
    - Staff : 스태프는 호텔 데스크 직원입니다. 따라서 고객 정보 조회 / 예약 확인 등 응대 관련 기능에 접근이 가능합니다.
    - Marketer : 기업에서 마케팅을 담당하는 직원입니다. 마케팅을 위한 고객 관련 통계 정보에 접근이 가능합니다.
    - Consultant : 고객의 문의(또는 상담)를 담당하는 직원입니다. 고객의 문의 상담과 관련된 기능에 접근이 가능합니다.

**📌  계정**

- 회원가입
    - 직원들은 이름, 사원번호, 이메일(인증 필요), 비밀번호 데이터를 입력해 회원가입을 할 수 있다.
        - 비밀번호 DB에 저장 시 암호화하여 저장하기. (BCrypt)
- 로그인
    - 직원들은 이메일과 비밀번호를 입력해 로그인을 할 수 있다.
    - **로그인 시 투 팩터 인증**
        - 로그인 시 이메일로 난수를 보낸 후 이를 입력하는 방식으로 인증
- 로그아웃
    - 직원들은 로그아웃 버튼을 눌러 로그아웃을 할 수 있다.
- 계정 수정
    - 직원들은 Email / 비밀번호를 수정할 수 있다.
        - 수정 시에도 투 팩터 인증을 사용
- 회원 탈퇴
    - 매니저는 직원을 탈퇴 시킬 수 있다.
    - 직원은 본인의 계정을 탈퇴할 수 있다.

**📌 매니저(Admin) 기능**

- 매니저는 직원이 회원가입 시 Admin 화면에서 승인 / 거부를 할 수 있다.
- 매니저는 직원 정보를 확인할 수 있다.
- 매니저는 특정 직원이 고객 상세 정보에 접근한 로그 기록을 확인할 수 있다.

**📌 고객 (정보) 관리**

- 직원은 고객 관리 탭에서 고객 목록(고객명, 고객등급, 연락처, 담당자, 메모, 등록일, 성별, 생년월일, 리워드 잔액, 주소)을 조회할 수 있다.
- 직원은 고객상세 **고객 요약** 탭에서 고객명, 연락처, 생년월일, 주소, 메모, 담당자, 고객등급, 리워드 잔액, 등록 날짜를 조회할 수 있다.
- 직원은 고객상세 **고객 요약** 탭에서 고객 등급, 메모, 담당자를 수정할 수 있다.
- 직원은 고객상세 **예약 탭**에서 예약 목록(상태, 예약일, 고객명, 연락처, 상품명, 예약타입, 예약내용, 담당자, 메모, 등록일)을 조회할 수 있다.
- 직원은 고객상세 **예약 탭**에서 예약 목록(상태, 예약일, 고객명, 연락처, 상품명, 예약타입, 예약내용, 담당자, 메모, 등록일)을 필요한 조건에 맞추어 조회할 수 있다.
- 직원은 고객 상세 **예약 탭**에서 예약 데이터(상태, 예약일, 고객명, 연락처, 상품명, 예약타입, 예약내용, 담당자, 메모, 등록일)을 수정할 수 있다.
- 직원은 고객 상세 **상담 탭**에서 상담 목록(상담일시, 고객명, 연락처, 상담유형, 상담결과, 상담자, 상담주제, 상담내용, 주소)을 조회할 수 있다.
- 직원은 고객 상세 **상담 탭**에서 상담 목록(상담일지, 고객명, 연락처, 상담유형, 상담결과, 상담자, 상담주제, 상담내용, 주소)을 필요한 조건에 맞추어 조회할 수 있다.
- 직원은 고객 상세 **상담 탭**에서 상담 데이터(상담일시, 고객명, 연락처, 상담유형, 상담결과, 상담자, 상담주제, 상담내용, 주소)를 수정할 수 있다.
- 직원은 고객 상세 **포인트 탭**에서 고객의 리워드의 사용 및 적립 목록을 조회할 수 있다.
- 매니저와 스태프는 고객 등급을 수정할 수 있다.
    - 웰컴, 실버, 골드, VIP

**📌 예약 관리**

- 예약은 식사 예약 / 호텔 방 예약 총 두 가지가 있다.
- 호텔 방 예약
    - 매니저와 스태프, 상담사는 예약 현황(날짜, 예약자명, 연락처, 예약자 번호, 체크인 시간, 체크아웃 시간, 예약 방법(경로 - 중개, 전화, 웹, 워크 인), 방문 수단(도보,  차량), 호텔 정보, 방 정보, 숙박 예약 번호), 인원 수, 그룹(가족, 커플, 친구, 1인)을 확인할 수 있다.
- 식사 예약
    - 매니저와 스태프, 상담사는 예약 현황(시간, 가격, 예약 날짜), 식사 상품(음식 이름, 개수, 가격)을 확인할 수 있다.
- 매니저와 스태프, 상담사는 식사 및 호텔 방 예약 현황을 조회할 수 있다.
- 매니저와 스태프, 상담사는 예약 상세를 관리할 수 있다.
    - 조회, 수정, 취소
    - 예약 고객, 고객 연락처, 예약한 날짜, 예약 상품, 체크인-체크아웃 날짜, 요청메시지 등

**📌 리워드 & 바우처**

- 상품권 개념의 바우처가 존재한다.
- 바우처는 리워드(포인트 개념)로 변환하여 사용할 수 있다.
- 결제 시 회원등급에 따라 리워드가 적립된다.
    - 웰컴 : 3%, 실버 : 3%, 골드 : 4%, VIP : 5%

**📌 매출 관리**

- 매니저는 기간을 설정하여 판매/결제 내역(결제 id, 총 가격(할인 적용 전), 결제 금액, 결제 장소(어느 지점), 결제 수단, 결제 시간, 결제 상태(환불 여부), 포인트 사용, 바우처 사용,  모든 결제 상품 )을 조회할 수 있다.
    - 결제 내역은 결제 상품/서비스, 바우처 사용 여부, 금액, 지불 방법, 날짜, 호텔 지점을 포함한다.
- 매니저는 매출 및 수익을 조회할 수 있다.
    - 기간 별 조회, 지점 별 조회, 금액 별 조회, 고객 별 조회, 상품 별 조회

**📌 마케팅 관리**

- 마케터는 이메일을 활용하여 고객들에게 이벤트 공지와 할인권 공지를 발송할 수 있다. (SMTP)
- **마케터는 메일을 받은 고객의 행태 분석( 메일 열람 여부, 메일에 포함 된 링크 접속 여부)을 할 수 있다.**

**📌  문의**

- 문의는 전화 문의 / 현장 문의 / 온라인 문의 세 타입이 존재한다.
    - 전화 문의 / 현장 문의는 상담사가 해당 통화 내용을 메모할 수 있도록 한다.
    - 온라인 문의는 상담사가 답변을 할 경우에 고객에게 답변 알림 메일을 보낸다.
- 상담원은 문의내용을 작성할 수 있다.
    - 고객명, 문의 일시, 연락처, 문의 유형, 문의 결과, 문의 내용
- 직원은 문의 목록을 조회할 수 있다.
    - 고객명, 답변자, 문의일자, 답변일자, 문의 내용
- 직원들은 문의 상세 내용을 조회할 수 있다.
    - 고객명, 답변자, 문의일자, 답변일자, 문의 제목, 문의 내용, 답변 제목, 답변 내용

**📌 리뷰 관리**

- 고객은 호텔 / 다이닝 리뷰를 작성할 수 있다.
- 고객은 호텔의 친절도, 청결도, 편의성, 위치만족도의 별점을 매길 수 있다.
- 고객은 호텔에 대한 리뷰 코멘트를 작성할 수 있다..
- 직원은 호텔 리뷰 목록( 리뷰 코멘트 내용, 작성자(고객), 작성 일자, 방문 일자, 고객 그룹, 객실 정보 )을 조회할 수 있다.
- 고객은 방문한 레스토랑 맛, 청결도, 친절도, 분위기의 별점을 매길 수 있다.
- 고객은 다이닝에 대한 리뷰 코멘트를 작성할 수 있다..
- 리뷰 내용을 요약하여 볼 수 있다. ( 호텔과 다이닝을 별점으로, 그리고 각각 긍정적인 리뷰, 부정적인 리뷰 요약으로 나누어 조회할 수 있다. )

**📌  통계 관리**

- 직원은 기간을 설정하여 고객 신규 유입자 수를 조회할 수 있다.
- 직원은 기간을 설정하여 고객 재방문률을 조회할 수 있다.
- 직원은 기간을 설정하여 고객의 사용 이력(체크인 시간, 체크아웃 시간, 구매한 룸서비스)을 조회할 수 있다.
- 직원은 고객 카테고리를 설정해 고객 통계를 조회할 수 있다.(성별 별, 나이 별, 거주지 별)
- 직원은 월 별 예약 수를 조회할 수 있다.
- 고객을 카테고리에 맞게 클러스터링 해준다. ( 성별 별, 나이 별, 거주지 별 등등 )
- 직원은 고객에게 전송한 마케팅 이메일의 성과를 조회할 수 있다.(이메일 조회 수, 이메일 내 링크 접속 수)
- 직원은 기간을 설정하여 객실 이용률(OCC)를 조회할 수 있다.
- 직원은 기간을 설정하여 판매객실 평균 요금(ADR)을 조회할 수 있다.
- 직원은 기간을 설정하여 객실당 수입(RevPAR)을 조회할 수 있다.
- 직원은 기간을 설정하여 부대시설 1인당 지출을 조회할 수 있다.
- 직원은 기간을 설정하여 고객 그룹 별 많이 구매한 상품 순위 목록을 조회할 수 있다.

**📌 어드민 페이지**

- 관리자는 직원이 고객의 상세 정보에 접근한 기록 로그(언제, 누가, 누구의 정보를 열람했는가)를 조회할 수 있다.
- 권리자는 직원 회원 가입 승인, 변경, 말소를 할 수 있으며 각각의 내역에 대한 로그를 조회할 수 있다.

**📌 보안**

- **개인정보 보호 조치 만족시켜야 한다.**
- 암호화 되어야 하는 개인 정보를 DB에 저장할 시 암호화 하여 저장해야한다.
- 회원정보를 리스트 형식으로 조회할 경우 고객 정보를 마스킹한다.
- 개인 정보 조회 시 접근한 직원의 로그를 DB에 저장한다.
- 관리자 권한 생성 / 변경 / 말소의 이벤트가 발생했을 때 이에 대한 로그를 DB에 저장한다.ㅏ

   
</details>

 <details>
 <summary>
    🌼시스템 아키텍처
  </summary>

<img width="1039" alt="스크린샷 2024-05-20 오전 10 51 37" src="https://github.com/kinggodgeneralteam2/BE05-FIN-2TEAM-MINGLECRM-BACKEND/assets/65129708/7ba84ad6-81ac-40d9-9692-2c6e1e63c74d">
  
</details>

 <details>
 <summary>
🌼화면 설계서
   
  </summary>
  (https://www.figma.com/design/vgABOThuvnOdEdwMbqtJk2/mingle?node-id=0-1&t=Igw3yxiZ4yRqkeHs-0)
</details>


 <details>
 <summary>
    🌼ERD
  </summary>
  <img width="1039" alt="스크린샷 2024-05-20 오전 10 51 37" src="https://github.com/kinggodgeneralteam2/BE05-FIN-2TEAM-MINGLECRM-BACKEND/assets/98157935/2b0bfef2-19e0-45c6-bfca-202a21ede0be">

</details>

 <details>
 <summary>
    🌼WBS
  </summary>
   
  ![mingle_WBS (1)](https://github.com/kinggodgeneralteam2/BE05-FIN-2TEAM-MINGLECRM-BACKEND/assets/98157935/331ccb46-73ad-425e-a681-642a3db16a87)


</details>

